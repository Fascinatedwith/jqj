(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d226975c"],{4929:function(n,e,t){},d10f:function(n,e,t){"use strict";t("4929")},ebbe:function(n,e,t){"use strict";t.r(e);var a=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"content",class:{contentTheme:n.theme}},[t("div",{staticClass:"synopsis"},[n._v("简介")]),t("div",{staticClass:"synopsisBox"},[n._v(" 列表的拖拽排序，分为el-table的拖拽排序 和 普通列表的拖拽排序 ")]),t("div",{staticClass:"br"}),t("h3",{staticStyle:{margin:"20px 0"}},[n._v("基于el-table的拖拽排序")]),n._m(0),t("h3",{staticStyle:{margin:"20px 0"}},[n._v("普通列表的拖拽排序")]),n._m(1)])},o=[function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("pre",{staticClass:"pre"},[n._v("    "),t("code",{staticClass:"code"},[n._v("\n      // 1. 首先下载第三方包\n      npm install sortablejs\n      // 2. 在需要的页面进行引入\n      import Sortable from 'sortablejs'\n\n      // 行列同时支持拖拽\n      "),t("code",[n._v("<")]),n._v("template>\n        "),t("code",[n._v("<")]),n._v('el-table :data="tableData" border>\n          '),t("code",[n._v("<")]),n._v('el-table-column v-for="(item, index) in col" :key="`col_${index}`" :prop="item.prop" :label="item.label" />\n        '),t("code",[n._v("<")]),n._v("/el-table>\n      "),t("code",[n._v("<")]),n._v("/template>\n\n      "),t("code",[n._v("<")]),n._v("script>\n        export default {\n          data() {\n            return {\n              col: [\n                {\n                  label: '日期',\n                  prop: 'date'\n                },\n                {\n                  label: '姓名',\n                  prop: 'name'\n                },\n                {\n                  label: '地址',\n                  prop: 'address'\n                }\n              ],\n              tableData: [\n                {\n                  id: '1',\n                  date: '2016-05-02',\n                  name: '王小虎1',\n                  address: '上海市普陀区金沙江路 100 弄'\n                },\n                {\n                  id: '2',\n                  date: '2016-05-04',\n                  name: '王小虎2',\n                  address: '上海市普陀区金沙江路 200 弄'\n                },\n                {\n                  id: '3',\n                  date: '2016-05-01',\n                  name: '王小虎3',\n                  address: '上海市普陀区金沙江路 300 弄'\n                },\n                {\n                  id: '4',\n                  date: '2016-05-03',\n                  name: '王小虎4',\n                  address: '上海市普陀区金沙江路 400 弄'\n                }\n              ]\n            }\n          },\n          mounted() {\n            // 阻止默认行为\n            document.body.ondrop = function (event) {\n              event.preventDefault();\n              event.stopPropagation();\n            };\n            this.rowDrop()//行拖拽\n            this.columnDrop()//列拖拽\n          },\n          methods: {\n            //行拖拽\n            rowDrop() {\n              const tbody = document.querySelector('.el-table__body-wrapper tbody')\n              const _this = this\n              Sortable.create(tbody, {\n                // 只能通过拖拽icon进行排序\n                handle: '.drag-icon',  // 此处是icon图标的class名\n                onEnd({ newIndex, oldIndex }) {\n                  if (newIndex == oldIndex) return\n                  _this.tableData.splice(\n                    newIndex,\n                    0,\n                    _this.tableData.splice(oldIndex, 1)[0]\n                  )\n                  var newArray = _this.tableData.slice(0)\n                  _this.tableData = []\n                  _this.$nextTick(function() {\n                    _this.tableData = newArray\n                  })\n                }\n              })\n            },\n            //列拖拽\n            columnDrop() {\n              const wrapperTr = document.querySelector('.el-table__header-wrapper tr')\n              this.sortable = Sortable.create(wrapperTr, {\n                animation: 180,\n                delay: 0,\n                onEnd: evt => {\n                  const oldItem = this.dropCol[evt.oldIndex]\n                  this.dropCol.splice(evt.oldIndex, 1)\n                  this.dropCol.splice(evt.newIndex, 0, oldItem)\n                }\n              })\n            }\n          }\n        }\n      "),t("code",[n._v("<")]),n._v("/script>\n    ")]),n._v("\n  ")])},function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("pre",{staticClass:"pre"},[n._v("    "),t("code",{staticClass:"code"},[n._v("\n      // 1. 首先下载第三方包\n      npm install sortablejs\n      // 2. 在需要的页面进行引入\n      import Sortable from 'sortablejs'\n\n      // 行列同时支持拖拽\n      "),t("code",[n._v("<")]),n._v("template>\n        "),t("code",[n._v("<")]),n._v("div>\n          "),t("code",[n._v("<")]),n._v('ul id="items">\n            '),t("code",[n._v("<")]),n._v('li v-for="item in listData" :key="item.id">\n              '),t("code",[n._v("{")]),t("code",[n._v("{")]),n._v(" item.name }}\n            "),t("code",[n._v("<")]),n._v("/li>\n          "),t("code",[n._v("<")]),n._v("/ul>\n        "),t("code",[n._v("<")]),n._v("/div>\n      "),t("code",[n._v("<")]),n._v("/template>\n\n      "),t("code",[n._v("<")]),n._v("script>\n        export default {\n          data() {\n            return {\n              listData:[\n                {\n                  id:1,\n                  name:'数据一'\n                },\n                {\n                  id:2,\n                  name:'数据二'\n                },\n                {\n                  id:3,\n                  name:'数据三'\n                },\n                {\n                  id:4,\n                  name:'数据四'\n                }\n              ]\n            }\n          },\n          mounted() {\n            // 阻止默认行为\n            document.body.ondrop = function (event) {\n              event.preventDefault();\n              event.stopPropagation();\n            };\n            this.rowDrop()//行拖拽\n          },\n          methods: {\n            //行拖拽\n            rowDrop() {\n              const tbody = document.getElementById('items')\n              const that = this\n              Sortable.create(tbody, {\n                // 只能通过拖拽icon进行排序\n                handle: '.drag-icon', // 此处是icon图标的class名\n                onEnd: function(evt) {\n                  // 获取排序之后的data数据\n                  that.listData.splice(evt.newIndex, 0, that.listData.splice(evt.oldIndex, 1)[0])\n                  var newArray = that.listData.slice(0)\n                  that.listData = []\n                  that.$nextTick(function() {\n                    that.listData = newArray\n                  })\n                }\n              })\n            }\n          }\n        }\n      "),t("code",[n._v("<")]),n._v("/script>\n    ")]),n._v("\n  ")])}],d=t("5530"),s=t("2f62"),l={components:{},data:function(){return{}},computed:Object(d["a"])({},Object(s["b"])(["theme"])),created:function(){},mounted:function(){},methods:{}},i=l,r=(t("d10f"),t("2877")),c=Object(r["a"])(i,a,o,!1,null,"4a123d80",null);e["default"]=c.exports}}]);